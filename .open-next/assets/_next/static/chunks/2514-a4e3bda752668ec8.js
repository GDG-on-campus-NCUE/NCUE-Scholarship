(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2514],{25671:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var r=o(95155);let n=(0,o(12115).forwardRef)((e,t)=>{let{children:o,className:n="",variant:i="primary",size:l="default",disabled:a=!1,loading:s=!1,leftIcon:d,rightIcon:c,...h}=e,m={primary:"\n      bg-blue-600 text-white border border-blue-600\n      hover:bg-blue-700 hover:border-blue-700\n      focus:ring-blue-500/30\n      shadow-blue-500/30\n      font-bold\n    ",secondary:"\n      bg-white text-primary border border-primary\n      hover:bg-primary/5 hover:border-primary-600\n      focus:ring-primary/20\n      font-bold\n    ",success:"\n      bg-success text-white border border-success\n      hover:bg-green-600 hover:border-green-600\n      focus:ring-success/20\n      shadow-success/20\n      font-bold\n    ",danger:"\n      bg-red-700 text-white border border-error\n      hover:bg-red-600 hover:border-red-600\n      focus:ring-error/20\n      shadow-error/20\n      font-bold\n    ",warning:"\n      bg-accent text-gray-800 border border-accent\n      hover:bg-yellow-500 hover:border-yellow-500\n      focus:ring-accent/20\n      shadow-accent/20\n    ",ghost:"\n      bg-transparent text-gray-700 border border-transparent\n      hover:bg-gray-100 hover:text-gray-900\n      focus:ring-gray-500/20\n    ",link:"\n      bg-transparent text-primary border border-transparent p-0\n      hover:text-primary-600 hover:underline\n      focus:ring-primary/20 shadow-none hover:shadow-none\n      hover:scale-100 active:scale-100\n    "},f={sm:"px-3 py-1.5 text-sm min-h-[32px]",default:"px-4 py-2 text-sm min-h-[40px]",lg:"px-6 py-3 text-base min-h-[48px]",xl:"px-8 py-4 text-lg min-h-[56px]"},g="\n    ".concat("\n    inline-flex items-center justify-center gap-2 \n    font-medium rounded-lg transition-all duration-300 \n    focus:outline-none focus:ring-2 focus:ring-offset-2 \n    disabled:opacity-50 disabled:cursor-not-allowed\n    transform hover:scale-[1.02] active:scale-[0.98]\n    shadow-sm hover:shadow-md\n  ","\n    ").concat(m[i]||m.primary,"\n    ").concat(f[l]||f.default,"\n    ").concat(a?"hover:scale-100 active:scale-100":"","\n    ").concat(n,"\n  ").trim();return(0,r.jsxs)("button",{ref:t,className:g,disabled:a||s,...h,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m100 50c0 27.614-22.386 50-50 50s-50-22.386-50-50 22.386-50 50-50 50 22.386 50 50zm-90.196 0c0 22.091 17.909 40 40 40s40-17.909 40-40-17.909-40-40-40-40 17.909-40 40z"})]}),d&&!s&&(0,r.jsx)("span",{className:"text-lg",children:d}),o,c&&(0,r.jsx)("span",{className:"text-lg",children:c})]})});n.displayName="Button";let i=n},50477:()=>{},81640:(e,t,o)=>{"use strict";o.d(t,{A:()=>g});var r=o(95155),n=o(12115),i=o(28890),l=o(62261),a=o(16862);i.KQ.register({family:"NotoSansTC",fonts:[{src:"/fonts/NotoSansTC-Regular.ttf"},{src:"/fonts/NotoSansTC-Bold.ttf",fontWeight:"bold"}]});let s={primary:"#1E40AF",text:"#1F2937",muted:"#6B7280",white:"#FFFFFF",footer:"#111827",success:"#16A34A",danger:"#DC2626"},d=i.vv.create({page:{fontFamily:"NotoSansTC",fontSize:10,paddingTop:40,paddingBottom:70,paddingHorizontal:40,lineHeight:1.6,backgroundColor:s.white,color:s.text},watermarkContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:-1},watermarkImage:{width:400,height:400,opacity:.08},watermarkText:{marginTop:30,fontSize:45,fontWeight:"bold",color:s.muted,opacity:.08},header:{position:"absolute",top:15,left:40,fontSize:9,color:s.muted},footer:{position:"absolute",bottom:0,left:0,right:0,height:55,backgroundColor:s.footer,color:"#A1A1AA",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:40,fontSize:8},footerColumn:{display:"flex",flexDirection:"column",gap:2},footerLink:{color:"#E4E4E7",textDecoration:"none"},pageNumber:{position:"absolute",fontSize:8,bottom:60,left:40,right:40,textAlign:"center",color:s.muted,zIndex:10},title:{fontSize:22,fontWeight:"bold",color:s.text,marginBottom:20,textAlign:"center",lineHeight:1.2},topInfoContainer:{display:"flex",flexDirection:"row",marginBottom:20,borderWidth:1,borderColor:"#E5E7EB",borderRadius:6},infoColumn:{flex:1,padding:12},infoColumnDivider:{borderRightWidth:1,borderRightColor:"#E5E7EB"},sectionTitle:{fontSize:11,fontWeight:"bold",color:s.primary,marginBottom:8},infoTextLabel:{fontSize:9,color:s.muted,marginBottom:2},infoTextValue:{fontSize:10,color:s.text,fontWeight:"bold"},qrCodeImage:{width:80,height:80,alignSelf:"center"},urlText:{fontSize:8,color:s.muted,textAlign:"center",marginTop:5,textDecoration:"none"},quillWrapper:{padding:12,borderWidth:1,borderColor:"#E5E7EB",borderRadius:6,marginBottom:20}}),c=i.vv.create({p:{margin:0,marginBottom:4,fontSize:10,lineHeight:1.5},ul:{paddingLeft:10,margin:0},ol:{paddingLeft:10,margin:0},li:{marginBottom:4,fontSize:10},strong:{fontWeight:"bold"},b:{fontWeight:"bold"},u:{textDecoration:"underline"},i:{fontStyle:"italic"},h4:{fontSize:11,fontWeight:"bold",color:s.primary,margin:0},span:{},table:{width:"100%",borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB",borderCollapse:"collapse"},thead:{},tbody:{},tr:{},th:{padding:6,fontSize:10,fontWeight:"bold",borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB",backgroundColor:"#F9FAFB"},td:{padding:6,fontSize:10,borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB"}}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:27;if("string"!=typeof e)return e;let o=RegExp("(.{".concat(t,"})"),"g");return e.replace(o,"$1​")},m=e=>{let{announcement:t}=e,[o,m]=(0,n.useState)(""),f="https://scholarship.ncuesa.org.tw",g="".concat(f,"/?announcement_id=").concat(t.id);(0,n.useEffect)(()=>{(async()=>{try{let e=await a.toDataURL(g,{errorCorrectionLevel:"H",margin:1,width:256});m(e)}catch(e){console.error("Failed to generate QR code",e)}})()},[g]);let p=e=>e?new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"未指定",x=e=>e?(e=>e?e.replace(/(margin-(?:top|bottom)):\s*([\d.]+)(em)/g,(e,t,o)=>{let r=Math.round(11*parseFloat(o));return"".concat(t,": ").concat(r)}):"")((e=>e?e.replace(/>([^<]+)</g,(e,t)=>">".concat(h(t),"<")):"")((e=>{if(!e)return"";let t=["margin","padding","width","height","display","position","left","top","right","bottom"];return e.replace(/style="([^"]*)"/g,(e,o)=>{let r=o.split(";").filter(e=>{if(!e.trim())return!1;let o=e.split(":")[0].trim();return!t.includes(o)}).join(";");return r?'style="'.concat(r,'"'):""})})(e))):e,u=x(t.summary),b=x(t.target_audience),y=(0,n.useMemo)(()=>"Y"===t.application_limitations?{text:"可兼領",color:s.success}:{text:"不可兼領",color:s.danger},[t.application_limitations]);return(0,r.jsx)(i.yo,{title:t.title,children:(0,r.jsxs)(i.YW,{size:"A4",style:d.page,wrap:!0,children:[(0,r.jsxs)(i.EY,{style:d.header,fixed:!0,children:["此文件下載於: ",new Date().toLocaleString("zh-TW")]}),(0,r.jsxs)(i.Ss,{style:d.footer,fixed:!0,children:[(0,r.jsxs)(i.Ss,{style:d.footerColumn,children:[(0,r.jsxs)(i.EY,{children:["聯繫 獎學金承辦人員: ",(0,r.jsx)(i.N_,{src:"mailto:act5718@gmail.com",style:d.footerLink,children:"何淑芬 (act5718@gmail.com)"})]}),(0,r.jsxs)(i.EY,{children:["聯繫 系統開發者: ",(0,r.jsx)(i.N_,{src:"mailto:3526ming@gmail.com",style:d.footerLink,children:"Tai Ming Chen (3526ming@gmail.com)"})]})]}),(0,r.jsxs)(i.Ss,{style:d.footerColumn,children:[(0,r.jsx)(i.N_,{src:f,style:d.footerLink,children:"前往彰師生輔組獎學金資訊平台"}),(0,r.jsxs)(i.EY,{children:["版權所有 \xa9 ",new Date().getFullYear()," 彰師生輔組獎學金資訊平台"]})]})]}),(0,r.jsx)(i.EY,{style:d.pageNumber,render:e=>{let{pageNumber:t,totalPages:o}=e;return"".concat(t," / ").concat(o)},fixed:!0}),(0,r.jsxs)(i.Ss,{style:d.watermarkContainer,fixed:!0,children:[(0,r.jsx)(i._V,{style:d.watermarkImage,src:"/logo.png"}),(0,r.jsx)(i.EY,{style:d.watermarkText,children:"彰師生輔組獎學金資訊平台"})]}),(0,r.jsx)(i.EY,{style:d.title,children:h(t.title||"公告詳情",20)}),(0,r.jsxs)(i.Ss,{style:d.topInfoContainer,wrap:!1,children:[(0,r.jsxs)(i.Ss,{style:[d.infoColumn,d.infoColumnDivider],children:[(0,r.jsx)(i.EY,{style:d.sectionTitle,children:"公告資訊"}),(0,r.jsx)(i.EY,{style:d.infoTextLabel,children:"公告 ID"}),(0,r.jsx)(i.EY,{style:d.infoTextValue,children:h(t.id,18)}),(0,r.jsx)(i.EY,{style:{...d.infoTextLabel,marginTop:8},children:"最近編輯"}),(0,r.jsx)(i.EY,{style:d.infoTextValue,children:new Date(t.updated_at).toLocaleDateString("zh-TW")})]}),(0,r.jsxs)(i.Ss,{style:[d.infoColumn,d.infoColumnDivider],children:[(0,r.jsx)(i.EY,{style:d.sectionTitle,children:"公告日程"}),(0,r.jsx)(i.EY,{style:d.infoTextLabel,children:"申請開始"}),(0,r.jsx)(i.EY,{style:{...d.infoTextValue,color:s.primary},children:p(t.application_start_date)}),(0,r.jsx)(i.EY,{style:{...d.infoTextLabel,marginTop:8},children:"申請截止"}),(0,r.jsx)(i.EY,{style:{...d.infoTextValue,color:s.primary},children:p(t.application_end_date)})]}),(0,r.jsxs)(i.Ss,{style:[d.infoColumn,d.infoColumnDivider],children:[(0,r.jsx)(i.EY,{style:d.sectionTitle,children:"申請辦法"}),(0,r.jsx)(i.EY,{style:d.infoTextLabel,children:"申請限制"}),(0,r.jsx)(i.EY,{style:{...d.infoTextValue,color:y.color},children:y.text}),(0,r.jsx)(i.EY,{style:{...d.infoTextLabel,marginTop:8},children:"送件方式"}),(0,r.jsx)(i.EY,{style:d.infoTextValue,children:h(t.submission_method||"未指定",10)})]}),(0,r.jsxs)(i.Ss,{style:d.infoColumn,children:[o&&(0,r.jsx)(i._V,{style:d.qrCodeImage,src:o}),(0,r.jsx)(i.N_,{src:g,style:d.urlText,children:"掃描或點擊查看線上公告"})]})]}),(0,r.jsxs)(i.Ss,{children:[(0,r.jsxs)(i.Ss,{style:d.quillWrapper,children:[(0,r.jsx)(i.EY,{style:d.sectionTitle,children:"適用對象"}),(0,r.jsx)(l.Ay,{stylesheet:c,children:b||"<p>未指定</p>"})]}),(0,r.jsxs)(i.Ss,{style:d.quillWrapper,children:[(0,r.jsx)(i.EY,{style:d.sectionTitle,children:"公告摘要"}),(0,r.jsx)(l.Ay,{stylesheet:c,children:u||"<p>無詳細內容</p>"})]})]})]})})};var f=o(12669);let g=e=>{let{announcement:t,className:o}=e,[l,a]=(0,n.useState)(!1),[s,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=void 0===window.navigator?"":navigator.userAgent;a(!!/Android|iP(ad|hone|od)|IEMobile|BlackBerry|Opera Mini/i.test(e))},[]);let c=async()=>{if(!t)return void console.error("公告資料不存在。");d(!0);try{let e=await (0,i.x8)((0,r.jsx)(m,{announcement:t})).toBlob(),o=URL.createObjectURL(e),n=document.createElement("a");n.href=o,n.setAttribute("download","彰師生輔組獎學金公告-".concat(t.title,".pdf")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n),URL.revokeObjectURL(o)}catch(e){console.error("PDF 生成失敗:",e)}finally{d(!1)}};return(0,r.jsx)("button",{onClick:()=>{l?c():(()=>{let e=window.open("","_blank");if(e){e.document.write('<!DOCTYPE html><html><head><title>正在生成 PDF...</title><style>body { margin: 0; padding: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; background-color: #f0f0f0; } .loader { border: 8px solid #f3f3f3; border-top: 8px solid #3498db; border-radius: 50%; width: 60px; height: 60px; animation: spin 2s linear infinite; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></head><body><div class="loader"></div></body></html>'),e.document.title="彰師生輔組獎學金公告-".concat(t.title);let o=e.document.body;o.innerHTML="",o.style.width="100vw",o.style.height="100vh",(0,f.createRoot)(o).render((0,r.jsx)(i.TO,{style:{width:"100%",height:"100%",border:"none"},children:(0,r.jsx)(m,{announcement:t})}))}})()},className:"".concat(o," whitespace-nowrap"),disabled:s,children:s?"生成中...":"下載"})}}}]);