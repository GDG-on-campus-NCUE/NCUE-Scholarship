"use strict";exports.id=878,exports.ids=[878],exports.modules={12081:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>o});var e=c(60687),f=c(43210),g=c(972),h=c(47139),i=c(82516),j=a([g,h]);[g,h]=j.then?(await j)():j,g.Font.register({family:"NotoSansTC",fonts:[{src:"/fonts/NotoSansTC-Regular.ttf"},{src:"/fonts/NotoSansTC-Bold.ttf",fontWeight:"bold"}]});let k={primary:"#1E40AF",text:"#1F2937",muted:"#6B7280",white:"#FFFFFF",footer:"#111827",success:"#16A34A",danger:"#DC2626"},l=g.StyleSheet.create({page:{fontFamily:"NotoSansTC",fontSize:10,paddingTop:40,paddingBottom:70,paddingHorizontal:40,lineHeight:1.6,backgroundColor:k.white,color:k.text},watermarkContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:-1},watermarkImage:{width:400,height:400,opacity:.08},watermarkText:{marginTop:30,fontSize:45,fontWeight:"bold",color:k.muted,opacity:.08},header:{position:"absolute",top:15,left:40,fontSize:9,color:k.muted},footer:{position:"absolute",bottom:0,left:0,right:0,height:55,backgroundColor:k.footer,color:"#A1A1AA",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:40,fontSize:8},footerColumn:{display:"flex",flexDirection:"column",gap:2},footerLink:{color:"#E4E4E7",textDecoration:"none"},pageNumber:{position:"absolute",fontSize:8,bottom:60,left:40,right:40,textAlign:"center",color:k.muted,zIndex:10},title:{fontSize:22,fontWeight:"bold",color:k.text,marginBottom:20,textAlign:"center",lineHeight:1.2},topInfoContainer:{display:"flex",flexDirection:"row",marginBottom:20,borderWidth:1,borderColor:"#E5E7EB",borderRadius:6},infoColumn:{flex:1,padding:12},infoColumnDivider:{borderRightWidth:1,borderRightColor:"#E5E7EB"},sectionTitle:{fontSize:11,fontWeight:"bold",color:k.primary,marginBottom:8},infoTextLabel:{fontSize:9,color:k.muted,marginBottom:2},infoTextValue:{fontSize:10,color:k.text,fontWeight:"bold"},qrCodeImage:{width:80,height:80,alignSelf:"center"},urlText:{fontSize:8,color:k.muted,textAlign:"center",marginTop:5,textDecoration:"none"},quillWrapper:{padding:12,borderWidth:1,borderColor:"#E5E7EB",borderRadius:6,marginBottom:20}}),m=g.StyleSheet.create({p:{margin:0,marginBottom:4,fontSize:10,lineHeight:1.5},ul:{paddingLeft:10,margin:0},ol:{paddingLeft:10,margin:0},li:{marginBottom:4,fontSize:10},strong:{fontWeight:"bold"},b:{fontWeight:"bold"},u:{textDecoration:"underline"},i:{fontStyle:"italic"},h4:{fontSize:11,fontWeight:"bold",color:k.primary,margin:0},span:{},table:{width:"100%",borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB",borderCollapse:"collapse"},thead:{},tbody:{},tr:{},th:{padding:6,fontSize:10,fontWeight:"bold",borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB",backgroundColor:"#F9FAFB"},td:{padding:6,fontSize:10,borderStyle:"solid",borderWidth:1,borderColor:"#E5E7EB"}}),n=(a,b=27)=>{if("string"!=typeof a)return a;let c=RegExp(`(.{${b}})`,"g");return a.replace(c,"$1​")},o=({announcement:a})=>{let[b,c]=(0,f.useState)(""),d="https://scholarship.ncuesa.org.tw",j=`${d}/?announcement_id=${a.id}`;(0,f.useEffect)(()=>{(async()=>{try{let a=await i.toDataURL(j,{errorCorrectionLevel:"H",margin:1,width:256});c(a)}catch(a){console.error("Failed to generate QR code",a)}})()},[j]);let o=a=>a?new Date(a).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"未指定",p=a=>{if(!a)return a;let b=(a=>{if(!a)return"";let b=["margin","padding","width","height","display","position","left","top","right","bottom"];return a.replace(/style="([^"]*)"/g,(a,c)=>{let d=c.split(";").filter(a=>{if(!a.trim())return!1;let c=a.split(":")[0].trim();return!b.includes(c)}).join(";");return d?`style="${d}"`:""})})(a),c=(a=>a?a.replace(/>([^<]+)</g,(a,b)=>`>${n(b)}<`):"")(b);return(a=>a?a.replace(/(margin-(?:top|bottom)):\s*([\d.]+)(em)/g,(a,b,c)=>{let d=parseFloat(c),e=Math.round(11*d);return`${b}: ${e}`}):"")(c)},q=p(a.summary),r=p(a.target_audience),s=(0,f.useMemo)(()=>"Y"===a.application_limitations?{text:"可兼領",color:k.success}:{text:"不可兼領",color:k.danger},[a.application_limitations]);return(0,e.jsx)(g.Document,{title:a.title,children:(0,e.jsxs)(g.Page,{size:"A4",style:l.page,wrap:!0,children:[(0,e.jsxs)(g.Text,{style:l.header,fixed:!0,children:["此文件下載於: ",new Date().toLocaleString("zh-TW")]}),(0,e.jsxs)(g.View,{style:l.footer,fixed:!0,children:[(0,e.jsxs)(g.View,{style:l.footerColumn,children:[(0,e.jsxs)(g.Text,{children:["聯繫 獎學金承辦人員: ",(0,e.jsx)(g.Link,{src:"mailto:act5718@gmail.com",style:l.footerLink,children:"何淑芬 (act5718@gmail.com)"})]}),(0,e.jsxs)(g.Text,{children:["聯繫 系統開發者: ",(0,e.jsx)(g.Link,{src:"mailto:3526ming@gmail.com",style:l.footerLink,children:"Tai Ming Chen (3526ming@gmail.com)"})]})]}),(0,e.jsxs)(g.View,{style:l.footerColumn,children:[(0,e.jsx)(g.Link,{src:d,style:l.footerLink,children:"前往彰師生輔組獎學金資訊平台"}),(0,e.jsxs)(g.Text,{children:["版權所有 \xa9 ",new Date().getFullYear()," 彰師生輔組獎學金資訊平台"]})]})]}),(0,e.jsx)(g.Text,{style:l.pageNumber,render:({pageNumber:a,totalPages:b})=>`${a} / ${b}`,fixed:!0}),(0,e.jsxs)(g.View,{style:l.watermarkContainer,fixed:!0,children:[(0,e.jsx)(g.Image,{style:l.watermarkImage,src:"/logo.png"}),(0,e.jsx)(g.Text,{style:l.watermarkText,children:"彰師生輔組獎學金資訊平台"})]}),(0,e.jsx)(g.Text,{style:l.title,children:n(a.title||"公告詳情",20)}),(0,e.jsxs)(g.View,{style:l.topInfoContainer,wrap:!1,children:[(0,e.jsxs)(g.View,{style:[l.infoColumn,l.infoColumnDivider],children:[(0,e.jsx)(g.Text,{style:l.sectionTitle,children:"公告資訊"}),(0,e.jsx)(g.Text,{style:l.infoTextLabel,children:"公告 ID"}),(0,e.jsx)(g.Text,{style:l.infoTextValue,children:n(a.id,18)}),(0,e.jsx)(g.Text,{style:{...l.infoTextLabel,marginTop:8},children:"最近編輯"}),(0,e.jsx)(g.Text,{style:l.infoTextValue,children:new Date(a.updated_at).toLocaleDateString("zh-TW")})]}),(0,e.jsxs)(g.View,{style:[l.infoColumn,l.infoColumnDivider],children:[(0,e.jsx)(g.Text,{style:l.sectionTitle,children:"公告日程"}),(0,e.jsx)(g.Text,{style:l.infoTextLabel,children:"申請開始"}),(0,e.jsx)(g.Text,{style:{...l.infoTextValue,color:k.primary},children:o(a.application_start_date)}),(0,e.jsx)(g.Text,{style:{...l.infoTextLabel,marginTop:8},children:"申請截止"}),(0,e.jsx)(g.Text,{style:{...l.infoTextValue,color:k.primary},children:o(a.application_end_date)})]}),(0,e.jsxs)(g.View,{style:[l.infoColumn,l.infoColumnDivider],children:[(0,e.jsx)(g.Text,{style:l.sectionTitle,children:"申請辦法"}),(0,e.jsx)(g.Text,{style:l.infoTextLabel,children:"申請限制"}),(0,e.jsx)(g.Text,{style:{...l.infoTextValue,color:s.color},children:s.text}),(0,e.jsx)(g.Text,{style:{...l.infoTextLabel,marginTop:8},children:"送件方式"}),(0,e.jsx)(g.Text,{style:l.infoTextValue,children:n(a.submission_method||"未指定",10)})]}),(0,e.jsxs)(g.View,{style:l.infoColumn,children:[b&&(0,e.jsx)(g.Image,{style:l.qrCodeImage,src:b}),(0,e.jsx)(g.Link,{src:j,style:l.urlText,children:"掃描或點擊查看線上公告"})]})]}),(0,e.jsxs)(g.View,{children:[(0,e.jsxs)(g.View,{style:l.quillWrapper,children:[(0,e.jsx)(g.Text,{style:l.sectionTitle,children:"適用對象"}),(0,e.jsx)(h.Ay,{stylesheet:m,children:r||"<p>未指定</p>"})]}),(0,e.jsxs)(g.View,{style:l.quillWrapper,children:[(0,e.jsx)(g.Text,{style:l.sectionTitle,children:"公告摘要"}),(0,e.jsx)(h.Ay,{stylesheet:m,children:q||"<p>無詳細內容</p>"})]})]})]})})};d()}catch(a){d(a)}})},58893:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(60687);let e=(0,c(43210).forwardRef)(({children:a,className:b="",variant:c="primary",size:e="default",disabled:f=!1,loading:g=!1,leftIcon:h,rightIcon:i,...j},k)=>{let l=`
    inline-flex items-center justify-center gap-2 
    font-medium rounded-lg transition-all duration-300 
    focus:outline-none focus:ring-2 focus:ring-offset-2 
    disabled:opacity-50 disabled:cursor-not-allowed
    transform hover:scale-[1.02] active:scale-[0.98]
    shadow-sm hover:shadow-md
  `,m={primary:`
      bg-blue-600 text-white border border-blue-600
      hover:bg-blue-700 hover:border-blue-700
      focus:ring-blue-500/30
      shadow-blue-500/30
      font-bold
    `,secondary:`
      bg-white text-primary border border-primary
      hover:bg-primary/5 hover:border-primary-600
      focus:ring-primary/20
      font-bold
    `,success:`
      bg-success text-white border border-success
      hover:bg-green-600 hover:border-green-600
      focus:ring-success/20
      shadow-success/20
      font-bold
    `,danger:`
      bg-red-700 text-white border border-error
      hover:bg-red-600 hover:border-red-600
      focus:ring-error/20
      shadow-error/20
      font-bold
    `,warning:`
      bg-accent text-gray-800 border border-accent
      hover:bg-yellow-500 hover:border-yellow-500
      focus:ring-accent/20
      shadow-accent/20
    `,ghost:`
      bg-transparent text-gray-700 border border-transparent
      hover:bg-gray-100 hover:text-gray-900
      focus:ring-gray-500/20
    `,link:`
      bg-transparent text-primary border border-transparent p-0
      hover:text-primary-600 hover:underline
      focus:ring-primary/20 shadow-none hover:shadow-none
      hover:scale-100 active:scale-100
    `},n={sm:"px-3 py-1.5 text-sm min-h-[32px]",default:"px-4 py-2 text-sm min-h-[40px]",lg:"px-6 py-3 text-base min-h-[48px]",xl:"px-8 py-4 text-lg min-h-[56px]"},o=`
    ${l}
    ${m[c]||m.primary}
    ${n[e]||n.default}
    ${f?"hover:scale-100 active:scale-100":""}
    ${b}
  `.trim();return(0,d.jsxs)("button",{ref:k,className:o,disabled:f||g,...j,children:[g&&(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m100 50c0 27.614-22.386 50-50 50s-50-22.386-50-50 22.386-50 50-50 50 22.386 50 50zm-90.196 0c0 22.091 17.909 40 40 40s40-17.909 40-40-17.909-40-40-40-40 17.909-40 40z"})]}),h&&!g&&(0,d.jsx)("span",{className:"text-lg",children:h}),a,i&&(0,d.jsx)("span",{className:"text-lg",children:i})]})});e.displayName="Button";let f=e},84650:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>k});var e=c(60687),f=c(43210),g=c(972),h=c(12081),i=c(46060),j=a([g,h]);[g,h]=j.then?(await j)():j;let k=({announcement:a,className:b})=>{let[c,d]=(0,f.useState)(!1),[j,k]=(0,f.useState)(!1);(0,f.useEffect)(()=>{let a=void 0===window.navigator?"":navigator.userAgent,b=!!/Android|iP(ad|hone|od)|IEMobile|BlackBerry|Opera Mini/i.test(a);d(b)},[]);let l=async()=>{if(!a)return void console.error("公告資料不存在。");k(!0);try{let b=await (0,g.pdf)((0,e.jsx)(h.A,{announcement:a})).toBlob(),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.setAttribute("download",`彰師生輔組獎學金公告-${a.title}.pdf`),document.body.appendChild(d),d.click(),d.parentNode.removeChild(d),URL.revokeObjectURL(c)}catch(a){console.error("PDF 生成失敗:",a)}finally{k(!1)}};return(0,e.jsx)("button",{onClick:()=>{c?l():(()=>{let b=window.open("","_blank");if(b){b.document.write('<!DOCTYPE html><html><head><title>正在生成 PDF...</title><style>body { margin: 0; padding: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; background-color: #f0f0f0; } .loader { border: 8px solid #f3f3f3; border-top: 8px solid #3498db; border-radius: 50%; width: 60px; height: 60px; animation: spin 2s linear infinite; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></head><body><div class="loader"></div></body></html>'),b.document.title=`彰師生輔組獎學金公告-${a.title}`;let c=b.document.body;c.innerHTML="",c.style.width="100vw",c.style.height="100vh",(0,i.createRoot)(c).render((0,e.jsx)(g.PDFViewer,{style:{width:"100%",height:"100%",border:"none"},children:(0,e.jsx)(h.A,{announcement:a})}))}})()},className:`${b} whitespace-nowrap`,disabled:j,children:j?"生成中...":"下載"})};d()}catch(a){d(a)}})}};